{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///components/editable.js","webpack:///webpack/bootstrap 084be0701d3877f39e25","webpack:///./src/editable/index.js","webpack:///./src/editable/editable.js","webpack:///external \"jquery\"","webpack:///external \"underscore\"","webpack:///external \"components/base\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","$","_","Brix","Editable","options","element","find","length","CustomEditable","NAMESPACE","TPL","pre","_default","extend","prototype","type","content","init","$element","render","that","html","is","$relatedElement","val","insertAfter","_beautify","hide","on","show","event","_hooks","which","update","preventDefault","stopImmediatePropagation","stopPropagation","preContent","validate","Event","trigger","isDefaultPrevented","focus","13","27","display","css","zIndex","outerWidth","targetPaddingLeft","parseInt","targetPaddingRight","targetBorderLeft","targetBorderRight","relatedPaddingLeft","relatedPaddingRight","relatedBorderLeft","relatedBorderRight","addClass","font-size","font-family","font-weight","line-height","color","z-index","margin","width","test","height","_$content","_$toggle","_$input","apply","undefined"],"mappings":"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","file":"components/editable.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"components/base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"underscore\", \"components/base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"components/editable\"] = factory(require(\"jquery\"), require(\"underscore\"), require(\"components/base\"));\n\telse\n\t\troot[\"components/editable\"] = factory(root[\"jquery\"], root[\"underscore\"], root[\"components/base\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"components/base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"underscore\", \"components/base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"components/editable\"] = factory(require(\"jquery\"), require(\"underscore\"), require(\"components/base\"));\n\telse\n\t\troot[\"components/editable\"] = factory(root[\"jquery\"], root[\"underscore\"], root[\"components/base\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1)\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* global define */\n\t/*\n\t    http://thx.github.io/brix-site/readme.html?name=Editable\n\t        Deprecated\n\t    https://nuysoft.gitbooks.io/brix-book/content/brix-components/editable/\n\t        Temporary\n\t\n\t    # Editable\n\t\n\t    可编辑的页面元素。\n\t\n\t    ```html\n\t    <!-- 简单模式 -->\n\t    <p bx-name=\"components/editable\">This is a editable paragraph.</p>\n\t    \n\t    <!-- 自定义模式 -->\n\t    <div bx-name=\"components/editable\">\n\t        <div class=\"editable-content\"></div>\n\t        <div class=\"editable-toggle\"></div>\n\t        <input class=\"editable-input\">\n\t    </div>\n\t    ```\n\t\n\t    ## 配置\n\t\n\t    配置项  | 类型   | 默认值 | 说明\n\t    :------ | :----- | :----- | :----------\n\t    type    | string | 'text' | 必选。描述待编辑内容的类型。可选值有两个：`text`、`html`。\n\t    content | string | ''     | 可选。指定待编辑内容。默认从节点属性 `innerHTML` 或 `innerText` 读取。\n\t\n\t    ## 方法\n\t\n\t    * .show()\n\t        显示编辑框。\n\t    * .hide()\n\t        隐藏编辑框。\n\t\n\t    ## 事件\n\t\n\t    事件类型        | 说明\n\t    :-------------- | :----------\n\t    change.editable | 当内容发生变化时被触发。\n\t\n\t    ## 参考\n\t    * http://zombiej.github.io/bootstrap-components-3.0/\n\t */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n\t        __webpack_require__(2), __webpack_require__(3),\n\t        __webpack_require__(4)\n\t    ], __WEBPACK_AMD_DEFINE_RESULT__ = function(\n\t        $, _,\n\t        Brix\n\t    ) {\n\t        var NAMESPACE = '.editable'\n\t        var TPL = {\n\t            pre: '<textarea>',\n\t            _default: '<input type=\"text\">'\n\t        }\n\t\n\t        function Editable(options) {\n\t            if ($(options.element).find('.editable-content').length) {\n\t                return new CustomEditable(options)\n\t            }\n\t        }\n\t\n\t        _.extend(Editable.prototype, Brix.prototype, {\n\t            options: {\n\t                type: 'text', // text html\n\t                content: ''\n\t            },\n\t            init: function() {\n\t                var type = this.options.type\n\t                this.$element = $(this.element)\n\t                if (!this.options.content) this.options.content = this.$element[type]()\n\t                if (!this.$element[type]()) this.$element[type](this.options.content)\n\t            },\n\t            render: function() {\n\t                var that = this\n\t                var html = this.$element.is('pre') ? TPL.pre : TPL._default\n\t                this.$relatedElement = $(html)\n\t                    .val(this.options.content)\n\t                    .insertAfter(this.$element)\n\t                this._beautify()\n\t                this.$relatedElement.hide()\n\t\n\t                this.$element.on('click', function( /*event*/ ) {\n\t                    that.show()\n\t                })\n\t\n\t                this.$relatedElement\n\t                    .on('keydown', function(event) {\n\t                        if (!that._hooks[event.which]) return\n\t                        that._hooks[event.which].call(that, event)\n\t                    })\n\t                    .on('blur', function() {\n\t                        if (that.update() === false) return\n\t                        that.hide()\n\t                    })\n\t                    .on('change', function(event) {\n\t                        // 阻止 input、textarea 的 change 事件，避免二次触发 change.editable 事件。\n\t                        event.preventDefault()\n\t                        event.stopImmediatePropagation()\n\t                        event.stopPropagation()\n\t                    })\n\t            },\n\t            update: function() {\n\t                var preContent = this.$element[this.options.type]() || this.options.content\n\t                var content = this.$relatedElement.val()\n\t                if (preContent === content) return\n\t\n\t                var validate = $.Event('change' + NAMESPACE)\n\t                this.trigger(validate, [content])\n\t                if (validate.isDefaultPrevented()) return false\n\t\n\t                this.$element[this.options.type](content)\n\t            },\n\t            show: function() {\n\t                this._beautify()\n\t                this.$element.hide()\n\t                this.$relatedElement.show().focus()\n\t            },\n\t            hide: function() {\n\t                this.$relatedElement.hide()\n\t                this.$element.show()\n\t            },\n\t            _hooks: {\n\t                // enter\n\t                13: function(event) {\n\t                    event.preventDefault()\n\t                    if (this.update() === false) return\n\t                    this.hide()\n\t                },\n\t                // esc\n\t                27: function(event) {\n\t                    event.preventDefault()\n\t                    this.hide()\n\t                    this.$relatedElement.val(\n\t                        this.$element[this.options.type]()\n\t                    )\n\t                }\n\t            },\n\t            _beautify: function() {\n\t                var $element = this.$element\n\t                var $relatedElement = this.$relatedElement\n\t\n\t                var display = $element.css('display')\n\t                var zIndex = $element.css('z-index')\n\t                var outerWidth = $element.outerWidth(true)\n\t                var targetPaddingLeft = parseInt($element.css('padding-left'), 10) || 0\n\t                var targetPaddingRight = parseInt($element.css('padding-right'), 10) || 0\n\t                var targetBorderLeft = parseInt($element.css('border-left-width'), 10) || 0\n\t                var targetBorderRight = parseInt($element.css('border-right-width'), 10) || 0\n\t                var relatedPaddingLeft = parseInt($relatedElement.css('padding-left'), 10) || 0\n\t                var relatedPaddingRight = parseInt($relatedElement.css('padding-right'), 10) || 0\n\t                var relatedBorderLeft = parseInt($relatedElement.css('border-left-width'), 10) || 0\n\t                var relatedBorderRight = parseInt($relatedElement.css('border-right-width'), 10) || 0\n\t\n\t                this.$relatedElement\n\t                    .addClass('form-control')\n\t                    .css({\n\t                        'display': display,\n\t                        'font-size': $element.css('font-size'),\n\t                        'font-family': $element.css('font-family'),\n\t                        'font-weight': $element.css('font-weight'),\n\t                        'line-height': $element.css('line-height'),\n\t                        'color': $element.css('color'),\n\t                        'z-index': zIndex === 'auto' ? 1001 : zIndex + 1,\n\t                        'margin': $element.css('margin'),\n\t                        'width': /inline/.test(display) ?\n\t                            outerWidth +\n\t                            (relatedPaddingLeft - targetPaddingLeft) +\n\t                            (relatedPaddingRight - targetPaddingRight) +\n\t                            (relatedBorderLeft - targetBorderLeft) +\n\t                            (relatedBorderRight - targetBorderRight) : outerWidth,\n\t                        'height': 'auto'\n\t                    })\n\t            }\n\t        })\n\t\n\t\n\t        function CustomEditable() {}\n\t\n\t        _.extend(CustomEditable.prototype, Editable.prototype, {\n\t            init: function() {\n\t                var type = this.options.type\n\t                this.$element = $(this.element)\n\t\n\t                this._$content = this.$element.find('.editable-content')\n\t                this._$toggle = this.$element.find('.editable-toggle')\n\t                this._$input = this.$element.find('.editable-input')\n\t\n\t                if (!this.options.content) this.options.content = this._$content[type]()\n\t                if (!this._$content[type]()) this._$content[type](this.options.content)\n\t            },\n\t            render: function() {\n\t                var that = this\n\t                this._$toggle.on('click', function( /*event*/ ) {\n\t                    that.show()\n\t                })\n\t                this._$input.on('keydown', function(event) {\n\t                    if (!that._hooks[event.which]) return\n\t                    that._hooks[event.which].call(that, event)\n\t                }).on('blur', function() {\n\t                    if (that.update() === false) return\n\t                    that.hide()\n\t                })\n\t            },\n\t            update: function() {\n\t                var preContent = this._$content[this.options.type]() || this.options.content\n\t                var content = this._$input.val()\n\t                if (preContent === content) return\n\t\n\t                var validate = $.Event('change' + NAMESPACE)\n\t                this.trigger(validate, [content])\n\t                if (validate.isDefaultPrevented()) return false\n\t\n\t                this._$content[this.options.type](content)\n\t            },\n\t            show: function() {\n\t                this._$content.hide()\n\t                this._$toggle.hide()\n\t                this._$input.show().focus()\n\t            },\n\t            hide: function() {\n\t                this._$content.show()\n\t                this._$toggle.css('display', '')\n\t                this._$input.hide()\n\t            },\n\t            _hooks: {\n\t                // enter\n\t                13: function(event) {\n\t                    event.preventDefault()\n\t                    if (this.update() === false) return\n\t                    this.hide()\n\t                },\n\t                // esc\n\t                27: function(event) {\n\t                    event.preventDefault()\n\t                    this.hide()\n\t                    this._$input.val(\n\t                        this._$content[this.options.type]()\n\t                    )\n\t                }\n\t            },\n\t        })\n\t\n\t\n\t        return Editable\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\t\n\t// 'width': $element.css('width'), // auto + 2?\n\t// 'height': 'auto',\n\t// 'min-width': $element.css('width'),\n\t// 'margin': $element.css('margin'),\n\t// 'padding': $element.css('padding'),\n\t// 'line-height': $element.css('line-height')\n\t// 坑爹的位置修正啊！无法满足所有场景！而事实上，解决了 inline 的场景就基本满足了所有场景。\n\t// 'margin-left': targetMarginLeft -\n\t//     (relatedPaddingLeft - targetPaddingLeft) -\n\t//     (relatedBorderLeft - targetBorderLeft),\n\t// 'margin-top': targetMarginTop -\n\t//     (relatedPaddingTop - targetPaddingTop) -\n\t//     (relatedBorderTop - targetBorderTop),\n\t// 'margin-bottom': targetMarginBottom -\n\t//     (relatedPaddingBottom - targetPaddingBottom) -\n\t//     (relatedBorderBottom - targetBorderBottom),\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** components/editable.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 084be0701d3877f39e25\n **/","module.exports = require('./editable')\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/editable/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/* global define */\n/*\n    http://thx.github.io/brix-site/readme.html?name=Editable\n        Deprecated\n    https://nuysoft.gitbooks.io/brix-book/content/brix-components/editable/\n        Temporary\n\n    # Editable\n\n    可编辑的页面元素。\n\n    ```html\n    <!-- 简单模式 -->\n    <p bx-name=\"components/editable\">This is a editable paragraph.</p>\n    \n    <!-- 自定义模式 -->\n    <div bx-name=\"components/editable\">\n        <div class=\"editable-content\"></div>\n        <div class=\"editable-toggle\"></div>\n        <input class=\"editable-input\">\n    </div>\n    ```\n\n    ## 配置\n\n    配置项  | 类型   | 默认值 | 说明\n    :------ | :----- | :----- | :----------\n    type    | string | 'text' | 必选。描述待编辑内容的类型。可选值有两个：`text`、`html`。\n    content | string | ''     | 可选。指定待编辑内容。默认从节点属性 `innerHTML` 或 `innerText` 读取。\n\n    ## 方法\n\n    * .show()\n        显示编辑框。\n    * .hide()\n        隐藏编辑框。\n\n    ## 事件\n\n    事件类型        | 说明\n    :-------------- | :----------\n    change.editable | 当内容发生变化时被触发。\n\n    ## 参考\n    * http://zombiej.github.io/bootstrap-components-3.0/\n */\ndefine(\n    [\n        'jquery', 'underscore',\n        'components/base'\n    ],\n    function(\n        $, _,\n        Brix\n    ) {\n        var NAMESPACE = '.editable'\n        var TPL = {\n            pre: '<textarea>',\n            _default: '<input type=\"text\">'\n        }\n\n        function Editable(options) {\n            if ($(options.element).find('.editable-content').length) {\n                return new CustomEditable(options)\n            }\n        }\n\n        _.extend(Editable.prototype, Brix.prototype, {\n            options: {\n                type: 'text', // text html\n                content: ''\n            },\n            init: function() {\n                var type = this.options.type\n                this.$element = $(this.element)\n                if (!this.options.content) this.options.content = this.$element[type]()\n                if (!this.$element[type]()) this.$element[type](this.options.content)\n            },\n            render: function() {\n                var that = this\n                var html = this.$element.is('pre') ? TPL.pre : TPL._default\n                this.$relatedElement = $(html)\n                    .val(this.options.content)\n                    .insertAfter(this.$element)\n                this._beautify()\n                this.$relatedElement.hide()\n\n                this.$element.on('click', function( /*event*/ ) {\n                    that.show()\n                })\n\n                this.$relatedElement\n                    .on('keydown', function(event) {\n                        if (!that._hooks[event.which]) return\n                        that._hooks[event.which].call(that, event)\n                    })\n                    .on('blur', function() {\n                        if (that.update() === false) return\n                        that.hide()\n                    })\n                    .on('change', function(event) {\n                        // 阻止 input、textarea 的 change 事件，避免二次触发 change.editable 事件。\n                        event.preventDefault()\n                        event.stopImmediatePropagation()\n                        event.stopPropagation()\n                    })\n            },\n            update: function() {\n                var preContent = this.$element[this.options.type]() || this.options.content\n                var content = this.$relatedElement.val()\n                if (preContent === content) return\n\n                var validate = $.Event('change' + NAMESPACE)\n                this.trigger(validate, [content])\n                if (validate.isDefaultPrevented()) return false\n\n                this.$element[this.options.type](content)\n            },\n            show: function() {\n                this._beautify()\n                this.$element.hide()\n                this.$relatedElement.show().focus()\n            },\n            hide: function() {\n                this.$relatedElement.hide()\n                this.$element.show()\n            },\n            _hooks: {\n                // enter\n                13: function(event) {\n                    event.preventDefault()\n                    if (this.update() === false) return\n                    this.hide()\n                },\n                // esc\n                27: function(event) {\n                    event.preventDefault()\n                    this.hide()\n                    this.$relatedElement.val(\n                        this.$element[this.options.type]()\n                    )\n                }\n            },\n            _beautify: function() {\n                var $element = this.$element\n                var $relatedElement = this.$relatedElement\n\n                var display = $element.css('display')\n                var zIndex = $element.css('z-index')\n                var outerWidth = $element.outerWidth(true)\n                var targetPaddingLeft = parseInt($element.css('padding-left'), 10) || 0\n                var targetPaddingRight = parseInt($element.css('padding-right'), 10) || 0\n                var targetBorderLeft = parseInt($element.css('border-left-width'), 10) || 0\n                var targetBorderRight = parseInt($element.css('border-right-width'), 10) || 0\n                var relatedPaddingLeft = parseInt($relatedElement.css('padding-left'), 10) || 0\n                var relatedPaddingRight = parseInt($relatedElement.css('padding-right'), 10) || 0\n                var relatedBorderLeft = parseInt($relatedElement.css('border-left-width'), 10) || 0\n                var relatedBorderRight = parseInt($relatedElement.css('border-right-width'), 10) || 0\n\n                this.$relatedElement\n                    .addClass('form-control')\n                    .css({\n                        'display': display,\n                        'font-size': $element.css('font-size'),\n                        'font-family': $element.css('font-family'),\n                        'font-weight': $element.css('font-weight'),\n                        'line-height': $element.css('line-height'),\n                        'color': $element.css('color'),\n                        'z-index': zIndex === 'auto' ? 1001 : zIndex + 1,\n                        'margin': $element.css('margin'),\n                        'width': /inline/.test(display) ?\n                            outerWidth +\n                            (relatedPaddingLeft - targetPaddingLeft) +\n                            (relatedPaddingRight - targetPaddingRight) +\n                            (relatedBorderLeft - targetBorderLeft) +\n                            (relatedBorderRight - targetBorderRight) : outerWidth,\n                        'height': 'auto'\n                    })\n            }\n        })\n\n\n        function CustomEditable() {}\n\n        _.extend(CustomEditable.prototype, Editable.prototype, {\n            init: function() {\n                var type = this.options.type\n                this.$element = $(this.element)\n\n                this._$content = this.$element.find('.editable-content')\n                this._$toggle = this.$element.find('.editable-toggle')\n                this._$input = this.$element.find('.editable-input')\n\n                if (!this.options.content) this.options.content = this._$content[type]()\n                if (!this._$content[type]()) this._$content[type](this.options.content)\n            },\n            render: function() {\n                var that = this\n                this._$toggle.on('click', function( /*event*/ ) {\n                    that.show()\n                })\n                this._$input.on('keydown', function(event) {\n                    if (!that._hooks[event.which]) return\n                    that._hooks[event.which].call(that, event)\n                }).on('blur', function() {\n                    if (that.update() === false) return\n                    that.hide()\n                })\n            },\n            update: function() {\n                var preContent = this._$content[this.options.type]() || this.options.content\n                var content = this._$input.val()\n                if (preContent === content) return\n\n                var validate = $.Event('change' + NAMESPACE)\n                this.trigger(validate, [content])\n                if (validate.isDefaultPrevented()) return false\n\n                this._$content[this.options.type](content)\n            },\n            show: function() {\n                this._$content.hide()\n                this._$toggle.hide()\n                this._$input.show().focus()\n            },\n            hide: function() {\n                this._$content.show()\n                this._$toggle.css('display', '')\n                this._$input.hide()\n            },\n            _hooks: {\n                // enter\n                13: function(event) {\n                    event.preventDefault()\n                    if (this.update() === false) return\n                    this.hide()\n                },\n                // esc\n                27: function(event) {\n                    event.preventDefault()\n                    this.hide()\n                    this._$input.val(\n                        this._$content[this.options.type]()\n                    )\n                }\n            },\n        })\n\n\n        return Editable\n    }\n)\n\n// 'width': $element.css('width'), // auto + 2?\n// 'height': 'auto',\n// 'min-width': $element.css('width'),\n// 'margin': $element.css('margin'),\n// 'padding': $element.css('padding'),\n// 'line-height': $element.css('line-height')\n// 坑爹的位置修正啊！无法满足所有场景！而事实上，解决了 inline 的场景就基本满足了所有场景。\n// 'margin-left': targetMarginLeft -\n//     (relatedPaddingLeft - targetPaddingLeft) -\n//     (relatedBorderLeft - targetBorderLeft),\n// 'margin-top': targetMarginTop -\n//     (relatedPaddingTop - targetPaddingTop) -\n//     (relatedBorderTop - targetBorderTop),\n// 'margin-bottom': targetMarginBottom -\n//     (relatedPaddingBottom - targetPaddingBottom) -\n//     (relatedBorderBottom - targetBorderBottom),\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/editable/editable.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"components/base\"\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}
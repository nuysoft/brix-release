{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///components/countdown.js","webpack:///webpack/bootstrap 788ee11966b3c89286de","webpack:///./src/countdown/index.js","webpack:///./src/countdown/countdown.js","webpack:///external \"jquery\"","webpack:///external \"underscore\"","webpack:///external \"moment\"","webpack:///external \"brix/base\"","webpack:///./src/countdown/countdown.tpl.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","$","_","moment","Brix","template","Countdown","extend","prototype","options","precision","expires","Date","render","isString","toDate","data","html","$element","element","append","start","task","offset","that","update","total","Timer","pop","trigger","on","addClass","push","stop","pause","resume","fix","number","length","find","text","totalDays","end","hours","minutes","seconds","getTime","Math","ceil","floor","days","weeks","months","years","interval","timers","run","i","splice","each","tasks","timer","setInterval","clearInterval","apply","undefined"],"mappings":"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","file":"components/countdown.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"moment\"), require(\"brix/base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"underscore\", \"moment\", \"brix/base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"components/countdown\"] = factory(require(\"jquery\"), require(\"underscore\"), require(\"moment\"), require(\"brix/base\"));\n\telse\n\t\troot[\"components/countdown\"] = factory(root[\"jquery\"], root[\"underscore\"], root[\"moment\"], root[\"brix/base\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"moment\"), require(\"brix/base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\", \"underscore\", \"moment\", \"brix/base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"components/countdown\"] = factory(require(\"jquery\"), require(\"underscore\"), require(\"moment\"), require(\"brix/base\"));\n\telse\n\t\troot[\"components/countdown\"] = factory(root[\"jquery\"], root[\"underscore\"], root[\"moment\"], root[\"brix/base\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1)\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* global define, setInterval, clearInterval */\n\t/*\n\t    https://github.com/hilios/jQuery.countdown/blob/master/dist/jquery.countdown.js\n\t    https://github.com/hilios/jQuery.countdown/blob/gh-pages/documentation.md\n\t */\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n\t        __webpack_require__(2), __webpack_require__(3), __webpack_require__(4),\n\t        __webpack_require__(5),\n\t        __webpack_require__(6)\n\t    ], __WEBPACK_AMD_DEFINE_RESULT__ = function(\n\t        $, _, moment,\n\t        Brix,\n\t        template\n\t    ) {\n\t        /*\n\t            ### 数据\n\t                {}\n\t            ### 选项\n\t                expires\n\t            ### 属性\n\t                final\n\t            ### 方法\n\t                .start()\n\t                .pause()\n\t                .resume()\n\t                .stop()\n\t            ### 事件\n\t                * update.countdown\n\t                * finish.countdown\n\t                * stop.countdown\n\t\n\t            ===\n\t\n\t            ### 公共选项\n\t                data template css\n\t            ### 公共属性\n\t                element relatedElement \n\t                moduleId clientId parentClientId childClientIds \n\t                data template css\n\t            ### 公共方法\n\t                .render()\n\t            ### 公共事件\n\t                ready destroyed\n\t\n\t        */\n\t\n\t        function Countdown() {}\n\t\n\t        _.extend(Countdown.prototype, Brix.prototype, {\n\t            options: {\n\t                precision: 500,\n\t                expires: new Date()\n\t            },\n\t            render: function() {\n\t                this.options.expires = moment(\n\t                    this.options.expires,\n\t                    _.isString(this.options.expires) && 'YYYY-MM-DD HH:mm:ss'\n\t                ).toDate()\n\t                this.data = this.data || _.extend({}, this.options)\n\t\n\t                var html = _.template(template)(this.data)\n\t                var $element = $(this.element)\n\t                $element.append(html)\n\t                this.start()\n\t            },\n\t            start: function() {\n\t                var that = this\n\t                this.trigger('start.countdown', this.offset())\n\t\n\t                function task() {\n\t                    var offset = that.update()\n\t                    if (offset.total === 0) {\n\t                        Timer.pop(that.task, that.options.precision)\n\t                        that.trigger('complete.countdown', offset)\n\t                    }\n\t                    return task\n\t                }\n\t\n\t                this.task = task\n\t\n\t                this.on('complete.countdown', function() {\n\t                    $(that.element).addClass('is-complete')\n\t                })\n\t\n\t                Timer.push(task(), this.options.precision)\n\t\n\t                return this\n\t            },\n\t            stop: function() {\n\t                this.options.expires = new Date()\n\t                Timer.pop(this.task(), this.options.precision)\n\t                return this\n\t            },\n\t            pause: function() {\n\t                this.trigger('pause.countdown', this.offset())\n\t                Timer.pop(this.task, this.options.precision)\n\t                return this\n\t            },\n\t            resume: function() {\n\t                this.trigger('resume.countdown', this.offset())\n\t                Timer.push(this.task(), this.options.precision)\n\t                return this\n\t            },\n\t            update: function() {\n\t                var offset = this.offset()\n\t                $(this.element)\n\t                    .find('.totalDays').text(fix(offset.totalDays)).end()\n\t                    .find('.hours').text(fix(offset.hours)).end()\n\t                    .find('.minutes').text(fix(offset.minutes)).end()\n\t                    .find('.seconds').text(fix(offset.seconds)).end()\n\t\n\t                this.trigger('update.countdown', offset)\n\t\n\t                return offset\n\t\n\t                function fix(number, length) {\n\t                    length = length || 2\n\t                    switch (length) {\n\t                        case 2:\n\t                            return number < 10 ? '0' + number : number\n\t                        case 3:\n\t                            return number < 10 ? '00' + number :\n\t                                number < 100 ? '0' + number :\n\t                                number\n\t                    }\n\t                }\n\t            },\n\t            offset: function() {\n\t                var expires = this.options.expires\n\t                var total = expires.getTime() - new Date().getTime()\n\t                total = Math.ceil(total / 1e3)\n\t                total = total < 0 ? 0 : total\n\t                var offset = {\n\t                    total: total,\n\t                    seconds: total % 60,\n\t                    minutes: Math.floor(total / 60) % 60,\n\t                    hours: Math.floor(total / 60 / 60) % 24,\n\t                    days: Math.floor(total / 60 / 60 / 24) % 7,\n\t                    totalDays: Math.floor(total / 60 / 60 / 24),\n\t                    weeks: Math.floor(total / 60 / 60 / 24 / 7),\n\t                    months: Math.floor(total / 60 / 60 / 24 / 30),\n\t                    years: Math.floor(total / 60 / 60 / 24 / 365)\n\t                }\n\t                return offset\n\t            }\n\t        })\n\t\n\t        var Timer = {\n\t            push: function(task, interval) {\n\t                this.timers = this.timers || {}\n\t                this.timers[interval] = this.timers[interval] || []\n\t                this.timers[interval].push(task)\n\t                this.run()\n\t            },\n\t            pop: function(task, interval) {\n\t                var timers = this.timers\n\t                if (!timers || !timers[interval]) return\n\t                for (var i = 0; i < timers[interval].length; i++) {\n\t                    if (timers[interval][i] === task) timers[interval].splice(i--, 1)\n\t                }\n\t            },\n\t            run: function() {\n\t                _.each(this.timers, function(tasks, interval) {\n\t                    if (!tasks.length) {\n\t                        clearInterval(tasks.timer)\n\t                        return\n\t                    }\n\t                    if (!tasks.timer) {\n\t                        tasks.timer = setInterval(function() {\n\t                            _.each(tasks, function(task /*, index*/ ) {\n\t                                if (task) task()\n\t                            })\n\t                        }, interval)\n\t                    }\n\t                })\n\t            }\n\t        }\n\t\n\t        return Countdown\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* global define */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t    return \"<div class=\\\"countdown\\\">\\n\" +\n\t        \"    <span class=\\\"totalDays\\\">00</span> 天\\n\" +\n\t        \"    <span class=\\\"hours\\\"    >00</span> 时\\n\" +\n\t        \"    <span class=\\\"minutes\\\"  >00</span> 分\\n\" +\n\t        \"    <span class=\\\"seconds\\\"  >00</span> 秒\\n\" +\n\t        \"</div>\"\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** components/countdown.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 788ee11966b3c89286de\n **/","module.exports = require('./countdown')\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/countdown/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/* global define, setInterval, clearInterval */\n/*\n    https://github.com/hilios/jQuery.countdown/blob/master/dist/jquery.countdown.js\n    https://github.com/hilios/jQuery.countdown/blob/gh-pages/documentation.md\n */\ndefine(\n    [\n        'jquery', 'underscore', 'moment',\n        'brix/base',\n        './countdown.tpl.js'\n    ],\n    function(\n        $, _, moment,\n        Brix,\n        template\n    ) {\n        /*\n            ### 数据\n                {}\n            ### 选项\n                expires\n            ### 属性\n                final\n            ### 方法\n                .start()\n                .pause()\n                .resume()\n                .stop()\n            ### 事件\n                * update.countdown\n                * finish.countdown\n                * stop.countdown\n\n            ===\n\n            ### 公共选项\n                data template css\n            ### 公共属性\n                element relatedElement \n                moduleId clientId parentClientId childClientIds \n                data template css\n            ### 公共方法\n                .render()\n            ### 公共事件\n                ready destroyed\n\n        */\n\n        function Countdown() {}\n\n        _.extend(Countdown.prototype, Brix.prototype, {\n            options: {\n                precision: 500,\n                expires: new Date()\n            },\n            render: function() {\n                this.options.expires = moment(\n                    this.options.expires,\n                    _.isString(this.options.expires) && 'YYYY-MM-DD HH:mm:ss'\n                ).toDate()\n                this.data = this.data || _.extend({}, this.options)\n\n                var html = _.template(template)(this.data)\n                var $element = $(this.element)\n                $element.append(html)\n                this.start()\n            },\n            start: function() {\n                var that = this\n                this.trigger('start.countdown', this.offset())\n\n                function task() {\n                    var offset = that.update()\n                    if (offset.total === 0) {\n                        Timer.pop(that.task, that.options.precision)\n                        that.trigger('complete.countdown', offset)\n                    }\n                    return task\n                }\n\n                this.task = task\n\n                this.on('complete.countdown', function() {\n                    $(that.element).addClass('is-complete')\n                })\n\n                Timer.push(task(), this.options.precision)\n\n                return this\n            },\n            stop: function() {\n                this.options.expires = new Date()\n                Timer.pop(this.task(), this.options.precision)\n                return this\n            },\n            pause: function() {\n                this.trigger('pause.countdown', this.offset())\n                Timer.pop(this.task, this.options.precision)\n                return this\n            },\n            resume: function() {\n                this.trigger('resume.countdown', this.offset())\n                Timer.push(this.task(), this.options.precision)\n                return this\n            },\n            update: function() {\n                var offset = this.offset()\n                $(this.element)\n                    .find('.totalDays').text(fix(offset.totalDays)).end()\n                    .find('.hours').text(fix(offset.hours)).end()\n                    .find('.minutes').text(fix(offset.minutes)).end()\n                    .find('.seconds').text(fix(offset.seconds)).end()\n\n                this.trigger('update.countdown', offset)\n\n                return offset\n\n                function fix(number, length) {\n                    length = length || 2\n                    switch (length) {\n                        case 2:\n                            return number < 10 ? '0' + number : number\n                        case 3:\n                            return number < 10 ? '00' + number :\n                                number < 100 ? '0' + number :\n                                number\n                    }\n                }\n            },\n            offset: function() {\n                var expires = this.options.expires\n                var total = expires.getTime() - new Date().getTime()\n                total = Math.ceil(total / 1e3)\n                total = total < 0 ? 0 : total\n                var offset = {\n                    total: total,\n                    seconds: total % 60,\n                    minutes: Math.floor(total / 60) % 60,\n                    hours: Math.floor(total / 60 / 60) % 24,\n                    days: Math.floor(total / 60 / 60 / 24) % 7,\n                    totalDays: Math.floor(total / 60 / 60 / 24),\n                    weeks: Math.floor(total / 60 / 60 / 24 / 7),\n                    months: Math.floor(total / 60 / 60 / 24 / 30),\n                    years: Math.floor(total / 60 / 60 / 24 / 365)\n                }\n                return offset\n            }\n        })\n\n        var Timer = {\n            push: function(task, interval) {\n                this.timers = this.timers || {}\n                this.timers[interval] = this.timers[interval] || []\n                this.timers[interval].push(task)\n                this.run()\n            },\n            pop: function(task, interval) {\n                var timers = this.timers\n                if (!timers || !timers[interval]) return\n                for (var i = 0; i < timers[interval].length; i++) {\n                    if (timers[interval][i] === task) timers[interval].splice(i--, 1)\n                }\n            },\n            run: function() {\n                _.each(this.timers, function(tasks, interval) {\n                    if (!tasks.length) {\n                        clearInterval(tasks.timer)\n                        return\n                    }\n                    if (!tasks.timer) {\n                        tasks.timer = setInterval(function() {\n                            _.each(tasks, function(task /*, index*/ ) {\n                                if (task) task()\n                            })\n                        }, interval)\n                    }\n                })\n            }\n        }\n\n        return Countdown\n    }\n)\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/countdown/countdown.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"moment\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"brix/base\"\n ** module id = 5\n ** module chunks = 0\n **/","/* global define */\ndefine(function() {\n    return \"<div class=\\\"countdown\\\">\\n\" +\n        \"    <span class=\\\"totalDays\\\">00</span> 天\\n\" +\n        \"    <span class=\\\"hours\\\"    >00</span> 时\\n\" +\n        \"    <span class=\\\"minutes\\\"  >00</span> 分\\n\" +\n        \"    <span class=\\\"seconds\\\"  >00</span> 秒\\n\" +\n        \"</div>\"\n})\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/countdown/countdown.tpl.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}